# week14

因为罹患新冠所以进度有点慢

## 移植rcore tutorial

基本上内核内容移植完了，移植过程中只需要改osutil中的内容。

目前还没有测试，因为好像2022A不支持编译C的用户程序，需要手动写rust或者添加上编译C然后把它链接进去的方法，正在研究。

## 模块化

在移植的过程中，进一步的发现了一些之前没有看出了的可以模块化的内容：

- `printk`，应当调用对应的输出接口
- `TrapFrame`，在zCore中是直接用了一个库，但是在2022A中实际上是`TrapContext`,这一部分和
  `attach kprobe` 有一定关系，需要进行对应的调整。

考虑把移植过程写成一个傻瓜版复现文档。在加上函数上的注释，这样会好点。

